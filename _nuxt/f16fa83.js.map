{"version":3,"sources":["webpack:///./pages/recent.vue","webpack:///./pages/recent.vue?4f60","webpack:///./pages/recent.vue?d887"],"names":["middleware","data","noRecords","head","title","this","creds","username","computed","mapState","mapGetters","mounted","fetchNumbers","$store","dispatch","methods","calleeName","callee","calleeI","contacts","findIndex","contact","parsePhoneNumber","tel","number","error","name","formatDuration","dur","d","split","relativeTime","date","relative","Intl","RelativeTimeFormat","numeric","time","DateTimeFormat","hour","minute","long","day","month","fDate","Date","now","setHours","days","format","component","_vm","_c","_self","staticClass","_v","cdr","records","length","_l","key","id","on","$event","$nuxt","$emit","attrs","_s","duration","amount","installComponents","UtilsServerReload","default"],"mappings":"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","file":"f16fa83.js","sourcesContent":["\nimport { mapGetters, mapState } from 'vuex'\nimport { parsePhoneNumber } from 'libphonenumber-js'\n\nexport default {\n  middleware: 'server-auth',\n  data () {\n    return {\n      noRecords: false\n    }\n  },\n  head () {\n    return {\n      title: `ðŸ“ž Jambo Talk - Recents (${this.creds.username})`\n    }\n  },\n  computed: {\n    ...mapState(['cdr', 'contacts', 'creds', 'token_exp']),\n    ...mapGetters('cdr', ['fetchNumbers'])\n  },\n  mounted () {\n    if (this.fetchNumbers) {\n      this.$store.dispatch('cdr/getCDRNumbers')\n    }\n  },\n  methods: {\n    calleeName (callee) {\n      const calleeI = this.contacts.findIndex((contact) => {\n        try {\n          const phone = parsePhoneNumber(contact.tel, 'ZW')\n          if (phone.number === callee) {\n            return true\n          }\n        } catch (error) { }\n\n        return false\n      })\n      if (calleeI !== -1) {\n        return this.contacts[calleeI].name\n      }\n      return callee\n    },\n    formatDuration (dur) {\n      const d = dur.split(':')\n      if (d[0] !== '00') {\n        return dur\n      }\n      return `${d[1]}:${d[2]}`\n    },\n    relativeTime (date) {\n      const relative = new Intl.RelativeTimeFormat(\n        'en-GB', {\n          numeric: 'auto'\n        }\n      )\n\n      const time = new Intl.DateTimeFormat(\n        'en-GB', {\n          hour: 'numeric',\n          minute: 'numeric'\n        }\n      )\n\n      const long = new Intl.DateTimeFormat(\n        'en-GB', {\n          day: 'numeric',\n          month: 'short',\n          hour: 'numeric',\n          minute: 'numeric'\n        })\n\n      const fDate = new Date(date)\n\n      const now = new Date().setHours(0, 0, 0, 0)\n      const then = new Date(date).setHours(0, 0, 0, 0)\n      const days = (then - now) / 86400000\n      if (days > -2) {\n        return `${relative.format(days, 'day')}, ${time.format(fDate)}`\n      }\n      return long.format(fDate)\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./recent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./recent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recent.vue?vue&type=template&id=5cda21e4&\"\nimport script from \"./recent.vue?vue&type=script&lang=js&\"\nexport * from \"./recent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {UtilsServerReload: require('/home/joemags/Code/BOTS/XASH1/VOIP/app-jambotalk/components/Utils/ServerReload.vue').default})\n"],"sourceRoot":""}